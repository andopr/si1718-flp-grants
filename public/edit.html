<h2>Edit Grant</h2>

<h5 ng-show="!grantExists" class="red-text text-darken-2">Sorry, the grant you try to edit was not found</h5>
<form ng-show="grantExists">
    <div class="input-field">
        <label for="grantInputTitle">Grant title:</label>
        <input class="form-control" type="text" id="grantInputTitle" ng-model="updatedGrant.title" autofocus>
    </div>
    
    <div class="input-field" style="padding: 15px 0">
        <h6>Leaders</h6>
        <ul id="leadersContainer" class="collection" >
            <li class="collection-item" ng-repeat="leader in updatedGrant.leaders track by $index">
                <div><b>Leader {{$index + 1}}:</b> {{leader}}
                    <a class="secondary-content" ng-click="deleteResourceItem('leader', $index)">
                    <i style="cursor:pointer; color:red" class="material-icons">clear</i></a>
                </div>
            </li>
        </ul>
    
        <div class="input-field">
            <label for="grantInputLeader">New leader:</label>
            <input type="text" id="grantInputLeader">
            <a class="waves-effect waves-light btn green" ng-click="addAttributeItem('leader')"><i class="material-icons left">add_circle</i>Add</a>
        </div>
    </div>
    
    <div class="input-field">
        <label for="grantInpuType">Grant type:</label>
        <input class="form-control" type="text" id="grantInputType" ng-model="updatedGrant.type" autofocus>
    </div>
    
    <div class="input-field">
        <label for="grantInputStartDate">Start date:</label>
        <input class="form-control" type="text" id="grantInputStartDate" ng-model="updatedGrant.startDate" autofocus>
    </div>
    
    <div class="input-field">
        <label for="grantInputEndDate">End date:</label>
        <input class="form-control" type="text" id="grantInputEndDate" ng-model="updatedGrant.endDate" autofocus>
    </div>
    
    <div class="input-field" style="padding: 15px 0">
        <h6>Funding Organizations</h6>
        <ul id="fundingOrganizationsContainer" class="collection" >
            <li class="collection-item" ng-repeat="fundingOrganization in updatedGrant.fundingOrganizations track by $index">
                <div><b>Funding organization {{$index + 1}}:</b> {{fundingOrganization}}
                    <a class="secondary-content" ng-click="deleteResourceItem('fundingOrganization', $index)">
                    <i style="cursor:pointer; color:red" class="material-icons">clear</i></a>
                </div>
            </li>
        </ul>
    
        <div class="input-field">
            <label for="grantInputFundingOrganization">New funding organization:</label>
            <input type="text" id="grantInputFundingOrganization">
            <a class="waves-effect waves-light btn green" ng-click="addAttributeItem('fundingOrganization')"><i class="material-icons left">add_circle</i>Add</a>
        </div>
    </div>
    
    <div class="input-field" style="padding: 15px 0">
        <h6>Team members:</h6>
        <ul id="teamMembersContainer" class="collection">
            <li class="collection-item" ng-repeat="teamMember in updatedGrant.teamMembers track by $index">
                <div><b>Team member {{$index + 1}}:</b>{{teamMember}} 
                    <a class="secondary-content" ng-click="deleteResourceItem('teamMember', $index)">
                    <i style="cursor:pointer; color:red" class="material-icons">clear</i></a>
                </div>
            </li>
        </ul>
        
        <div class="input-field">
            <label for="grantInputTeamMember">New team member</label>
            <input type="text" id="grantInputTeamMember">
            <a class="waves-effect waves-light btn green" ng-click="addAttributeItem('teamMember')"><i class="material-icons left">add_circle</i>Add</a>
        </div>
    </div>
    
    <button class="btn red" ng-click="cancelGrantEdition()">Cancel</button>
    <button type="submit" class="btn blue" ng-click="commitGrantEdition()">Update</button>
    
    <label id="info"></label>
</form>

